import{c as Be,p as Ye,t as w,g as r,m as a,o as Ee,a as n,e as h,f as Pe,h as ze,i as e,s as d,r as c,b as _,u as re,j as v,n as Re,K as Ue}from"./custom-element.js";import{a as He}from"./css.js";import{i as D}from"./if.js";import{r as se,s as ie}from"./attributes2.js";import{b as oe}from"./input.js";import{i as Qe}from"./lifecycle.js";import{p as We}from"./props.js";import{o as Ie}from"./index-client.js";function Ve(m){return function(...f){var A=f[0];return A.preventDefault(),m==null?void 0:m.apply(this,f)}}var Ze=w('<div class="success svelte-6itj3h"><img src="img/icons/ok.svg" alt="ok" class="svelte-6itj3h"> </div>'),Ge=w(' <div class="dots svelte-6itj3h"><div class="svelte-6itj3h"></div><div class="svelte-6itj3h"></div><div class="svelte-6itj3h"></div></div>',1),Fe=w('<div class="error svelte-6itj3h"><img src="img/icons/nok.svg" alt="not ok" class="svelte-6itj3h"> </div>'),Je=w('<input type="hidden" name="csrf_cookie" id="csrf_cookie" value="" class="svelte-6itj3h"> <fieldset class="account_details svelte-6itj3h"><legend class="svelte-6itj3h"> </legend> <label for="username" class="svelte-6itj3h"> </label> <input type="email" name="username" id="username" autocomplete="username" required minlength="3" class="svelte-6itj3h"> <label for="password" class="svelte-6itj3h"> </label> <input type="password" name="password" id="password" autocomplete="current-password" required minlength="8" class="svelte-6itj3h"> <button type="submit" name="btn_submit" id="btn_submit" class="svelte-6itj3h"><!></button> <!></fieldset>',1),De=w('<div class="rz-loginform"><form class="form svelte-6itj3h"><!></form></div>');const Ke={hash:"svelte-6itj3h",code:`
@scope (.rz-loginform){form.svelte-6itj3h {width:300px;margin:50px auto;}fieldset.svelte-6itj3h {display:flex;flex-direction:column;align-items:center;padding:10px;border:var(--border-width) var(--border-style) var(--border-color);border-radius:var(--border-radius);}legend.svelte-6itj3h, label.svelte-6itj3h {font-size:var(--font-size-small);opacity:var(--opacity-05);}legend.svelte-6itj3h {padding:var(--base-padding);}label.svelte-6itj3h {width:100%;}input.svelte-6itj3h {font-size:var(--font-size);width:100%;border:var(--border-width) var(--border-style) var(--border-color);border-radius:var(--border-radius);padding:2px;margin-bottom:10px;}input.svelte-6itj3h:required:valid {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAepJREFUeNrEk79PFEEUx9/uDDd7v/AAQQnEQokmJCRGwc7/QeM/YGVxsZJQYI/EhCChICYmUJigNBSGzobQaI5SaYRw6imne0d2D/bYmZ3dGd+YQKEHYiyc5GUyb3Y+77vfeWNpreFfhvXfAWAAJtbKi7dff1rWK9vPHx3mThP2Iaipk5EzTg8Qmru38H7izmkFHAF4WH1R52654PR0Oamzj2dKxYt/Bbg1OPZuY3d9aU82VGem/5LtnJscLxWzfzRxaWNqWJP0XUadIbSzu5DuvUJpzq7sfYBKsP1GJeLB+PWpt8cCXm4+2+zLXx4guKiLXWA2Nc5ChOuacMEPv20FkT+dIawyenVi5VcAbcigWzXLeNiDRCdwId0LFm5IUMBIBgrp8wOEsFlfeCGm23/zoBZWn9a4C314A1nCoM1OAVccuGyCkPs/P+pIdVIOkG9pIh6YlyqCrwhRKD3GygK9PUBImIQQxRi4b2O+JcCLg8+e8NZiLVEygwCrWpYF0jQJziYU/ho2TUuCPTn8hHcQNuZy1/94sAMOzQHDeqaij7Cd8Dt8CatGhX3iWxgtFW/m29pnUjR7TSQcRCIAVW1FSr6KAVYdi+5Pj8yunviYHq7f72po3Y9dbi7CxzDO1+duzCXH9cEPAQYAhJELY/AqBtwAAAAASUVORK5CYII=);background-position:right top;background-repeat:no-repeat;}input.svelte-6itj3h:user-invalid {border:1px solid red;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeVJREFUeNqkU01oE1EQ/mazSTdRmqSxLVSJVKU9RYoHD8WfHr16kh5EFA8eSy6hXrwUPBSKZ6E9V1CU4tGf0DZWDEQrGkhprRDbCvlpavan3ezu+LLSUnADLZnHwHvzmJlvvpkhZkY7IqFNaTuAfPhhP/8Uo87SGSaDsP27hgYM/lUpy6lHdqsAtM+BPfvqKp3ufYKwcgmWCug6oKmrrG3PoaqngWjdd/922hOBs5C/jJA6x7AiUt8VYVUAVQXXShfIqCYRMZO8/N1N+B8H1sOUwivpSUSVCJ2MAjtVwBAIdv+AQkHQqbOgc+fBvorjyQENDcch16/BtkQdAlC4E6jrYHGgGU18Io3gmhzJuwub6/fQJYNi/YBpCifhbDaAPXFvCBVxXbvfbNGFeN8DkjogWAd8DljV3KRutcEAeHMN/HXZ4p9bhncJHCyhNx52R0Kv/XNuQvYBnM+CP7xddXL5KaJw0TMAF8qjnMvegeK/SLHubhpKDKIrJDlvXoMX3y9xcSMZyBQ+tpyk5hzsa2Ns7LGdfWdbL6fZvHn92d7dgROH/730YBLtiZmEdGPkFnhX4kxmjVe2xgPfCtrRd6GHRtEh9zsL8xVe+pwSzj+OtwvletZZ/wLeKD71L+ZeHHWZ/gowABkp7AwwnEjFAAAAAElFTkSuQmCC);background-position:right top;background-repeat:no-repeat;-moz-box-shadow:none;}button.svelte-6itj3h {width:100%;margin:10px 0;padding:10px;border:none;outline:none;background-color:var(--secondary-color);color:var(--font-color);}button.svelte-6itj3h:hover {cursor:pointer;}.success.svelte-6itj3h, .error.svelte-6itj3h {text-align:center;text-wrap:pretty;& img:where(.svelte-6itj3h) {width:15px;height:auto;vertical-align:middle;}}.success.svelte-6itj3h {color:var(--green-color);}.error.svelte-6itj3h {color:var(--red-color);}

  /* spinner */.dots.svelte-6itj3h {width:3.5em;display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;margin:auto;}.dots.svelte-6itj3h div:where(.svelte-6itj3h) {width:0.5em;height:0.5em;border-radius:50%;background-color:#fc2f70;
        animation: svelte-6itj3h-fade 0.8s ease-in-out alternate infinite;}.dots.svelte-6itj3h div:where(.svelte-6itj3h):nth-of-type(1) {background-color:oklch(0.97 0.211 109.77);animation-delay:-0.4s;}.dots.svelte-6itj3h div:where(.svelte-6itj3h):nth-of-type(2) {background-color:oklch(0.52 0.176858 142.4953);animation-delay:-0.2s;}

      @keyframes svelte-6itj3h-fade {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }
}`};function Le(m,f){Ye(f,!1),He(m,Ke);let A=We(f,"login_url",12,"http://localhost:8080/login"),K="csrf_cookie",i,g,j=a(""),k=a(""),Y=a(""),b=a(!1),L=a(!1),E=a(!1),N="Username",ae="Benutzername",P=a(N),X="Please enter a valid email address",le="Bitte tragen Sie eine gÃ¼ltige email Addresse ein",z=a(X),O="Please contact your Support",ne="Bitte wenden Sie sich an Ihren IT-Support",y=O,M="Error",de="Fehler",x=M,q="You've been successfully logged in",ce="Sie wurden erfolgreich angemeldet",R=a(q),T="Login",ue="Anmeldung",C=a(T),$="log-in",ve="anmelden",U=a($),ee="Password",me="Passwort",H=a(ee),te="Please enter your password",ge="Bitte tragen Sie Ihr Passwort ein",Q=a(te);function pe(){switch(localStorage.getItem("language")||"en"){case"de":{e(P,ae),e(z,le),y=ne,x=de,e(R,ce),e(C,ue),e(H,me),e(Q,ge),e(U,ve);break}default:{e(P,N),e(z,X),y=O,x=M,e(R,q),e(C,T),e(H,ee),e(Q,te),e(U,$);break}}}const he=()=>{if(i=document.cookie.split("; ").find(t=>t.startsWith(K)),i){console.info("onMount csrfCookie");const t=i.split("=")[1];i=t,console.info("onMount csrfCookie",i),g=document.getElementById("csrf_cookie"),g&&(g.value=t)}console.info(`email -${r(k)}- pwd -${r(j)}- token -${i}-`),e(b,!0),(i===""||i==="undefined")&&(i="empty",console.info("csrfCookie 0: ",i));const s={email:r(k),pwd:r(j)},u=JSON.stringify(s),p=new Headers;p.append("Content-Type","application/json"),fetch(A(),{method:"POST",headers:p,body:u}).then(t=>{if(!t.ok)throw e(Y,`System ${x}: ${t.status}. ${y}.`),e(E,!0),e(b,!1),new Error(`HTTP ${x}! status: ${t.status}`);return t.json()}).then(t=>(e(L,!0),e(b,!1),t)).catch(t=>{console.error("Error:",t),e(Y,`System ${t}: ${t}. ${y}.`),e(E,!0),e(b,!1)})};Ie(()=>{if(pe(),i=document.cookie.split("; ").find(s=>s.startsWith(K)),i){const s=i.split("=")[1];i=s,g=document.getElementById("csrf_cookie"),g&&(g.value=s)}}),Qe();var W=De(),I=n(W),fe=n(I);{var Ae=s=>{var u=Ze(),p=d(n(u));c(u),_(()=>v(p,` Â 
        ${r(R)??""}.`)),h(s,u)},be=s=>{var u=Je(),p=re(u),t=d(p,2),V=n(t),_e=n(V,!0);c(V);var Z=d(V,2),we=n(Z);c(Z);var S=d(Z,2);se(S);var G=d(S,2),je=n(G);c(G);var B=d(G,2);se(B);var F=d(B,2),ke=n(F);{var ye=o=>{var l=Ge(),J=re(l);Re(),_(()=>v(J,`${r(C)??""}...`)),h(o,l)},xe=o=>{var l=Ue();_(()=>v(l,`${r(U)??""} ðŸ”’`)),h(o,l)};D(ke,o=>{r(b)?o(ye):o(xe,!1)})}c(F);var Ce=d(F,2);{var Se=o=>{var l=Fe(),J=d(n(l));c(l),_(()=>v(J,` Â 
            ${r(Y)??""}`)),h(o,l)};D(Ce,o=>{r(E)&&o(Se)})}c(t),_(()=>{v(_e,r(C)),v(we,`${r(P)??""}:`),ie(S,"title",r(z)),v(je,`${r(H)??""}:`),ie(B,"title",r(Q))}),oe(S,()=>r(k),o=>e(k,o)),oe(B,()=>r(j),o=>e(j,o)),h(s,u)};D(fe,s=>{r(L)?s(Ae):s(be,!1)})}return c(I),c(W),Ee("submit",I,Ve(he)),h(m,W),Pe({get login_url(){return A()},set login_url(s){A(s),ze()}})}customElements.define("rz-loginform",Be(Le,{login_url:{}},[],[],!0));
