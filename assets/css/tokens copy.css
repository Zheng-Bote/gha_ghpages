/* =========================================================
   GLOBAL SHARED TOKENS (Spacing, Typography, Radius)
   ========================================================= */
:root {
  /* Radius */
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 18px;
  --radius-pill: 999px;

  /* Spacing */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.5rem;
  --space-6: 2rem;

  /* Typography */
  --font-family-sans:
    system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

  --font-size-root: clamp(16px, 1.2vw + 0.5rem, 22px);
  --font-size-small: clamp(0.8rem, 0.96vw + 0.4rem, 1.1rem);
  --font-size-smaller: clamp(0.7rem, 0.84vw + 0.35rem, 0.96rem);

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 600;

  /* Motion */
  --transition-fast: 0.18s ease-out;
  --transition-normal: 0.25s ease;

  /* Default Transition for Theme Switching */
  transition:
    background-color 0.3s ease,
    color 0.3s ease,
    border-color 0.3s ease;
}

/* =========================================================
   THEME DEFINITIONS
   Logic: Each theme defines its palette (Light & Dark) 
   based on a specific HUE.
   ========================================================= */

/* --- BLUE THEME (Default) --- 
   Hue: ~250 (Cool Blue) 
*/
:root,
:root[data-theme="blue"] {
  /* Palette: Light (Hue 250) */
  --color-bg-light: oklch(0.98 0.01 250);
  --color-bg-alt-light: oklch(0.99 0.01 250);
  --color-bg-elevated-light: oklch(0.97 0.02 250);
  --color-text-light: oklch(0.18 0.02 250);
  --color-text-muted-light: oklch(0.45 0.02 250);
  --color-border-light: oklch(0.88 0.02 250);

  /* Palette: Dark (Hue 250) */
  --color-bg-dark: oklch(0.16 0.02 250);
  --color-bg-alt-dark: oklch(0.2 0.02 250);
  --color-bg-elevated-dark: oklch(0.24 0.03 250);
  --color-text-dark: oklch(0.94 0.02 250);
  --color-text-muted-dark: oklch(0.7 0.02 250);
  --color-border-dark: oklch(0.32 0.02 250);

  /* Primary Brand Colors */
  --color-primary: oklch(0.65 0.16 250);
  --color-primary-soft: oklch(0.78 0.08 250);
  --color-primary-dark: oklch(0.45 0.12 250);

  /* Shadows */
  --shadow-soft-light: 0 10px 30px rgba(15, 23, 42, 0.08); /* Blueish shadow */
  --shadow-soft-dark: 0 14px 40px rgba(0, 0, 0, 0.45);

  /* --- MAPPING (Default to Light) --- */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
}

/* Dark Mode Override for Blue */
@media (prefers-color-scheme: dark) {
  :root {
    --mode-auto: dark;
  }
}
:root[data-mode="dark"],
:root[data-theme="blue"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);
}

/* --- EMERALD THEME --- 
   Hue: 150 (Natural Green)
*/
:root[data-theme="emerald"] {
  /* Palette: Light */
  --color-bg-light: oklch(0.98 0.01 150);
  --color-bg-alt-light: oklch(0.99 0.01 150);
  --color-bg-elevated-light: oklch(0.97 0.02 150);
  --color-text-light: oklch(0.18 0.02 150);
  --color-text-muted-light: oklch(0.45 0.02 150);
  --color-border-light: oklch(0.88 0.02 150);

  /* Palette: Dark */
  --color-bg-dark: oklch(0.16 0.02 150);
  --color-bg-alt-dark: oklch(0.2 0.02 150);
  --color-bg-elevated-dark: oklch(0.24 0.03 150);
  --color-text-dark: oklch(0.94 0.02 150);
  --color-text-muted-dark: oklch(0.7 0.02 150);
  --color-border-dark: oklch(0.32 0.02 150);

  /* Primary */
  --color-primary: oklch(0.65 0.16 150); /* Unified Lightness for consistency */
  --color-primary-soft: oklch(0.78 0.08 150);
  --color-primary-dark: oklch(0.45 0.12 150);

  /* Shadows (Greenish tint) */
  --shadow-soft-light: 0 10px 30px rgba(18, 42, 25, 0.08);

  /* Mapping */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
}

:root[data-theme="emerald"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);
}

/* --- AMBER THEME --- 
   Hue: 80 (Warm Yellow/Orange)
   Note: Amber often needs slightly tweaked lightness for contrast
*/
:root[data-theme="amber"] {
  /* Palette: Light */
  --color-bg-light: oklch(0.99 0.01 80); /* Brighter bg for yellow */
  --color-bg-alt-light: oklch(0.995 0.01 80);
  --color-bg-elevated-light: oklch(0.98 0.02 80);
  --color-text-light: oklch(0.2 0.03 80); /* Warmer text */
  --color-text-muted-light: oklch(0.48 0.03 80);
  --color-border-light: oklch(0.88 0.03 80);

  /* Palette: Dark */
  --color-bg-dark: oklch(0.17 0.02 80);
  --color-bg-alt-dark: oklch(0.21 0.02 80);
  --color-bg-elevated-dark: oklch(0.25 0.03 80);
  --color-text-dark: oklch(0.95 0.02 80);
  --color-text-muted-dark: oklch(0.75 0.02 80);
  --color-border-dark: oklch(0.32 0.02 80);

  /* Primary */
  --color-primary: oklch(
    0.78 0.18 80
  ); /* Must be lighter than blue/green to be visible */
  --color-primary-soft: oklch(0.88 0.1 80);
  --color-primary-dark: oklch(0.6 0.15 80);

  /* Shadows (Warm tint) */
  --shadow-soft-light: 0 10px 30px rgba(42, 35, 15, 0.08);

  /* Mapping */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
}

:root[data-theme="amber"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);
}

/* --- BERRY THEME (NEW) --- 
   Hue: 340 (Rose/Pink/Red)
*/
:root[data-theme="berry"] {
  /* Palette: Light */
  --color-bg-light: oklch(
    0.98 0.005 340
  ); /* Less chroma for red bg to avoid "bloody" look */
  --color-bg-alt-light: oklch(0.99 0.005 340);
  --color-bg-elevated-light: oklch(0.97 0.015 340);
  --color-text-light: oklch(0.18 0.02 340);
  --color-text-muted-light: oklch(0.45 0.02 340);
  --color-border-light: oklch(0.88 0.02 340);

  /* Palette: Dark */
  --color-bg-dark: oklch(0.16 0.02 340);
  --color-bg-alt-dark: oklch(0.2 0.02 340);
  --color-bg-elevated-dark: oklch(0.24 0.03 340);
  --color-text-dark: oklch(0.94 0.02 340);
  --color-text-muted-dark: oklch(0.7 0.02 340);
  --color-border-dark: oklch(0.32 0.02 340);

  /* Primary */
  --color-primary: oklch(0.63 0.22 340); /* Vivid pink/red */
  --color-primary-soft: oklch(0.8 0.12 340);
  --color-primary-dark: oklch(0.45 0.15 340);

  /* Shadows (Reddish tint) */
  --shadow-soft-light: 0 10px 30px rgba(42, 15, 20, 0.08);

  /* Mapping */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
}

:root[data-theme="berry"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);
}

/* --- VIOLET THEME (NEW) --- 
   Hue: 290 (Deep Purple)
*/
:root[data-theme="violet"] {
  /* Palette: Light */
  --color-bg-light: oklch(0.98 0.01 290);
  --color-bg-alt-light: oklch(0.99 0.01 290);
  --color-bg-elevated-light: oklch(0.97 0.02 290);
  --color-text-light: oklch(0.18 0.02 290);
  --color-text-muted-light: oklch(0.45 0.02 290);
  --color-border-light: oklch(0.88 0.02 290);

  /* Palette: Dark */
  --color-bg-dark: oklch(0.16 0.02 290);
  --color-bg-alt-dark: oklch(0.2 0.02 290);
  --color-bg-elevated-dark: oklch(0.24 0.03 290);
  --color-text-dark: oklch(0.94 0.02 290);
  --color-text-muted-dark: oklch(0.7 0.02 290);
  --color-border-dark: oklch(0.32 0.02 290);

  /* Primary */
  --color-primary: oklch(0.6 0.2 290);
  --color-primary-soft: oklch(0.78 0.12 290);
  --color-primary-dark: oklch(0.4 0.15 290);

  /* Shadows (Purple tint) */
  --shadow-soft-light: 0 10px 30px rgba(35, 15, 42, 0.08);

  /* Mapping */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
}

:root[data-theme="violet"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);
}

/* --- CYAN / TEAL THEME --- 
   Hue: 190 (Refreshing Teal)
*/
:root[data-theme="cyan"] {
  /* Palette: Light */
  --color-bg-light: oklch(0.98 0.01 190);
  --color-bg-alt-light: oklch(0.99 0.01 190);
  --color-bg-elevated-light: oklch(0.97 0.02 190);
  --color-text-light: oklch(0.18 0.02 190);
  --color-text-muted-light: oklch(0.45 0.02 190);
  --color-border-light: oklch(0.88 0.02 190);

  /* Palette: Dark */
  --color-bg-dark: oklch(0.16 0.02 190);
  --color-bg-alt-dark: oklch(0.2 0.02 190);
  --color-bg-elevated-dark: oklch(0.24 0.03 190);
  --color-text-dark: oklch(0.94 0.02 190);
  --color-text-muted-dark: oklch(0.7 0.02 190);
  --color-border-dark: oklch(0.32 0.02 190);

  /* Primary */
  --color-primary: oklch(0.65 0.15 190);
  --color-primary-soft: oklch(0.8 0.1 190);
  --color-primary-dark: oklch(0.5 0.12 190);

  /* Shadows (Cyan tint) */
  --shadow-soft-light: 0 10px 30px rgba(15, 42, 42, 0.08);

  /* Mapping */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
}

:root[data-theme="cyan"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);
}

/* --- SLATE THEME (Neutral) --- 
   Hue: 260 (Cool Gray)
   Note: Low chroma for a professional, "industrial" look.
*/
:root[data-theme="slate"] {
  /* Palette: Light (Very subtle cool tint) */
  --color-bg-light: oklch(0.985 0.002 260); /* Almost pure white/grey */
  --color-bg-alt-light: oklch(0.995 0.001 260);
  --color-bg-elevated-light: oklch(0.96 0.005 260);
  --color-text-light: oklch(0.15 0.01 260); /* Almost black */
  --color-text-muted-light: oklch(0.45 0.01 260);
  --color-border-light: oklch(0.88 0.01 260);

  /* Palette: Dark */
  --color-bg-dark: oklch(0.16 0.01 260);
  --color-bg-alt-dark: oklch(0.2 0.01 260);
  --color-bg-elevated-dark: oklch(0.24 0.02 260);
  --color-text-dark: oklch(0.96 0.01 260); /* Almost white */
  --color-text-muted-dark: oklch(0.65 0.01 260);
  --color-border-dark: oklch(0.32 0.01 260);

  /* Primary: "Steel" look */
  /* Instead of a color, we use a dark slate for high contrast */
  --color-primary: oklch(0.4 0.04 260); /* Dark Slate Blue */
  --color-primary-soft: oklch(0.85 0.02 260); /* Pale Gray */
  --color-primary-dark: oklch(0.25 0.04 260); /* Deep Iron */

  /* Shadows (Neutral) */
  --shadow-soft-light: 0 10px 30px rgba(0, 0, 0, 0.06);

  /* Mapping */
  --bg: var(--color-bg-light);
  --bg-alt: var(--color-bg-alt-light);
  --bg-elevated: var(--color-bg-elevated-light);
  --text: var(--color-text-light);
  --text-muted: var(--color-text-muted-light);
  --border: var(--color-border-light);
  --shadow-soft: var(--shadow-soft-light);
}

:root[data-theme="slate"][data-mode="dark"] {
  --bg: var(--color-bg-dark);
  --bg-alt: var(--color-bg-alt-dark);
  --bg-elevated: var(--color-bg-elevated-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --border: var(--color-border-dark);
  --shadow-soft: var(--shadow-soft-dark);

  /* Adjust primary for dark mode to be visible (lighter steel) */
  --color-primary: oklch(0.8 0.02 260);
  --color-primary-soft: oklch(0.3 0.02 260);
  --color-primary-dark: oklch(0.9 0.01 260);
}
